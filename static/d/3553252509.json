{"data":{"markdownRemark":{"frontmatter":{"title":"Blog","subtitle":"All my posts"}},"allMarkdownRemark":{"edges":[{"node":{"id":"427e5368-5ff3-5ad4-9d9e-7cbba59aa629","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>How to get the total count of results with DynamoDB and GraphQL in order to paginate my results?</p>\n<p>Many engineers using <a href=\"https://aws.amazon.com/it/amplify/\" target=\"_blank\" rel=\"noopener noreferrer\">AWS Amplify</a> are <a href=\"https://github.com/aws-amplify/amplify-js/issues/2901\" target=\"_blank\" rel=\"noopener noreferrer\">facing</a> the <a href=\"https://stackoverflow.com/questions/55537058/get-count-from-dynamodb-resolver\" target=\"_blank\" rel=\"noopener noreferrer\">same</a> <a href=\"https://github.com/aws-amplify/amplify-cli/issues/1865\" target=\"_blank\" rel=\"noopener noreferrer\">issue</a>.</p>\n<p>If you are about to bang your head against the wall, stop. </p>\n<p>I'll show you how to do it.</p>\n<p>From the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.Count\" target=\"_blank\" rel=\"noopener noreferrer\">DynamoDB documentation</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">the Query response contains the following elements:\n\nScannedCount — The number of items that matched the key condition expression before a filter expression (if present) was applied.\n\nCount — The number of items that remain after a filter expression (if present) was applied.</code></pre></div>\n<p>The problem is that the automatically generated queries from Amplify don't have those fields.</p>\n<p>This is an example of a query that lists users:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> listUsers <span class=\"token operator\">=</span> <span class=\"token comment\">/* GraphQL */</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query ListUsers(\n    $filter: ModelAlertFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listUsers(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        status\n        groupCanAccess\n        owner\n        ...\n      }\n      nextToken\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And so, there will be no <code class=\"language-text\">scannedCount</code> and <code class=\"language-text\">count</code> in the result.</p>\n<p>To make them magically appear, open your <code class=\"language-text\">amplify/backend/api/&lt;project-name&gt;/build/schema.graphql</code> </p>\n<p>and look for the definition of the <code class=\"language-text\">type Query</code>.</p>\n<p>You'll find something like this </p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> ID<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> User\n  <span class=\"token attr-name\">listUsers</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> ModelUserFilterInput<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">limit</span><span class=\"token punctuation\">:</span> Int<span class=\"token punctuation\">,</span> <span class=\"token attr-name\">nextToken</span><span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> ModelUserConnection\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>a <code class=\"language-text\">listUsers</code> field that returns a type of <code class=\"language-text\">ModelUserConnection</code>, that is the result type that we want to edit.</p>\n<p>Copy the type <code class=\"language-text\">ModelUserConnection</code> in your <code class=\"language-text\">amplify/backend/api/&lt;project-name&gt;/schema.graphql</code> to override it.</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">ModelUserConnection</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">items</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>User<span class=\"token punctuation\">]</span>\n  <span class=\"token attr-name\">nextToken</span><span class=\"token punctuation\">:</span> String\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Add the <code class=\"language-text\">scannedCount</code> and <code class=\"language-text\">count</code> fields.</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">ModelUserConnection</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">items</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>User<span class=\"token punctuation\">]</span>\n  <span class=\"token attr-name\">nextToken</span><span class=\"token punctuation\">:</span> String\n  <span class=\"token attr-name\">scannedCount</span><span class=\"token punctuation\">:</span> Int\n  <span class=\"token attr-name\">count</span><span class=\"token punctuation\">:</span> Int\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now type <code class=\"language-text\">amplify push</code> and enjoy. </p>\n<p>Now the query will return the scannedCount and count and you can happily paginate your results.</p>\n<p>Remember that if the size of the Query result set is larger than 1 MB, <code class=\"language-text\">scannedCount</code> and <code class=\"language-text\">count</code> represent only a partial count of the total items. You need to perform multiple Query operations to retrieve all the results.</p>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5AUOEQA5K99KOAAABilJREFUSMeFlW1slWcZx3/383ree2hLofQwXkeZUEY3ZgKOdBI3ZyrZWEPM+ARji2b6ReWDyWKy6IctZjFGw2Kiy9REt0hGXRjuDWWIsAFGdKjQQmkpLaWMvpyXPuc8b/flh3NgjLl4JdeH58r//v//9/XcuS7F/4jj2yGrWpktBSxdYOIkDcykQtkKAAmFuCoEVc3IZEw+51CW62za92ku4/bC4I48b+6Dlpxmw5Yk2otzOoy6tRf0ScV/Sir+U9oL+uq1OLdhS5KWnObNffWzt4e69WNsVzOVimbRcpvSeNjmNPGo3WT1mfmmLjPfPE8lMjaA1CphPDs9E88Wz4TF6LWgyB9yHfa1KxdDMhmDwsvTnxYY3tlMUBNWvfJVJr9xsMdpMb/v3tGx2Vm1yTE7ulGZhWAl6uCohlSuEo+fJhg8Hvij40eDqfiHC37ee2Tw8TdwEoplv5r+WODQtiZSGja9XmTi6ebHUovcFxJd9y2z12xFZTsaKAGRhi1VPyog5XHCfx+gdubUsHfF39P+4vT+44804Rnwpf4iKmFCLQb58SLGBmpfzC12Xk7dc98S865esFMg+rZG3hICKANCj/jsQby/n7pUuhzsKnQmDqvvXCFh3vD2vTZOD/vtKzrdVzLrFvcYXVvBzd50LDec3/4Dlfr4Rn4ZfeYAlQ8vHxka8B/vXuZOqOevYXW1GvDcM2Sf/sH2wci6P5jKY344imsbJBMmubRNS97FsQ0wGoRaCELN1KxPaS6kWovwQyGezuNEE/fnm+PtPPfMT7t++W2U961m3h8LWlvvSO7/7nt68/kZi0JHB65royQmm4L2FpMVhQQrCmkAhsbmGBqrMTEVU/ZAlIUfBIyNjbNqXsQLDxhHr49WH9tYcK5byXtT5Mu6s6Ngr1m9NOIfE4Jhp1GWSxRFXJ31GbhU4vdvDZFy662qBooFC9rJ5bI4joNpmohhUqkKnd0mhcXWmqgYdibvTV232LmQxImLndl5dq6vJ8Ubp4uMjIxg2/bN3kdRhBZh60YXgFcP+5TLRarVOUQEESEIQzIJTV9PnkwuzCWSRic7Fx4z4BSmpdrEUtb6lS7dKx2CSKMMA8uyME0LLVCYb/Fkb44ne3N0zLeIY8FoYCzLQmvoXumyfqULlrJMS7XBKQyllIq0mKKFfEp44kGXQguEYUQQxjed7XrYZe1yg7XLDXY97JJJaoKbmIiOFnjiQZempKC1EGkxlVLKAqTiS1GHUSyRbz50j2Je1uDPZ0Kul6E5p9jwOYPNd1tYqQCA3Y9arFqm+dvZkOkStGZhS5fBhjsVEvnoIIorvhQBsUS+wr6+YyOrq7GXkDhrJxWb1pl0rzUoB0JLs4FlK0QJEAOQdaC3x+ahLwhTU5q8q3ANBVojnhBWY290Jh4R6cXw9pzkyFAwUC7GFyXQYIKyAUdx4C81jp72mUNQSfWJLInwpw9qvHvCx3QVmIAhSKApl+KLR4aCAW/PB1iFvdPM1GT8a59PHpq/NF7nNJtKLEXKgZ4HMrz62zLv/7XGnXc55FsNRGB6Mub8uRA7bbNjRwbbFSQEIiGcjWV4PDq095+18d8N+Ji1qP4SM0pV1rdbGzMt5nyVNcE1aGlVrNmQIhKb0Qsxo4MxVy9rIm1x98YMj/SlWZAXBEAr9HTM5EBw9hfveT86OREN16LGLErbirlQ0i9ty+7etiX9bNPaxDzVZoKrUCaIbeAFBjWvPkSTSUhaMSrUSKQgEOSjmOK/ajP9h+ee3d1ffiltq7m5UDABQg1A+O5gcLkrZ1JIG11uwkgqW9UHmQiO0qQcTcrW2GgIgVBBVZBrEcVzwcw7x6ovfn1/6deRMN3grAvciEiY++N//AuLDDW7UKklSaTZUPXpjwCi6g8plDrxTEx4OZSJM/75/iPez77ZX/pNVXOlgf6kgNHYH6FQPjgQXPhoMjqb8cVzPUmbFZ2kIpaUtNIzMdFkrKuXQm/yXDB84mT19Z+8Vdn7/FHvYChMAFrdsj8+a5UoIAm0f3m5vXLzCnf1ijZzSS5lNAGUPF0cuhZfOjrkn3v7YngBmACqtzr/fwI3LwYkgHQjnUY9AOYaWQP0ZxH8F7qF/UHfNbDkAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA0LTA2VDIwOjIwOjQzKzAwOjAwYksQAgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wNC0wNlQyMDoyMDo0MyswMDowMBMWqL4AAAAASUVORK5CYII=\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/aws-amplify-dynamodb-total-count-graphql-queries/"},"frontmatter":{"title":"How to count the number of results with AWS Amplify DynamoDB and GraphQL","description":"Ho to paginate the results with DynamoDB?","date":"Dec 10, 2019","tags":["aws","dynamodb","graphql","amplify"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQBA//EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABoS5WXdOT/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAIDEwEz/9oACAEBAAEFAns603Y3oU9Th//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGH/8QAHBAAAQMFAAAAAAAAAAAAAAAAAQARQQIQYXGR/9oACAEBAAY/AiAzDChRxVbv/8QAGxABAQABBQAAAAAAAAAAAAAAAQARIUFhcZH/2gAIAQEAAT8hQbIjtvi5qTJWej3f/9oADAMBAAIAAwAAABCv3//EABYRAQEBAAAAAAAAAAAAAAAAAAARIf/aAAgBAwEBPxDNW//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxAyP//EABsQAAIDAQEBAAAAAAAAAAAAAAABESExsUFR/9oACAEBAAE/EEyTKUycEPQ/qPjGAUue+lK9nozT0f/Z","aspectRatio":1.7699115044247788,"src":"/static/58e39f7215ff5277a5b171d454c9cfc6/14b42/cover.jpg","srcSet":"/static/58e39f7215ff5277a5b171d454c9cfc6/f836f/cover.jpg 200w,\n/static/58e39f7215ff5277a5b171d454c9cfc6/2244e/cover.jpg 400w,\n/static/58e39f7215ff5277a5b171d454c9cfc6/14b42/cover.jpg 800w,\n/static/58e39f7215ff5277a5b171d454c9cfc6/16310/cover.jpg 1024w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"89e7f642-d997-5a97-bfe5-e0c4581d74a0","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>This will be a quick one.<br>\nYou have two or more <strong>Docker</strong> containers and you want them to communicate with each other.\nHere is how you do it.</p>\n<p>For semplicity of sake let's assume you have two containers.</p>\n<ul>\n<li><code class=\"language-text\">my-dev-db</code> is the first container, a database used for development for example</li>\n<li><code class=\"language-text\">my-web-app</code> is the second one, a web app written in your favourite programming language</li>\n</ul>\n<p>To allow the communication between our cool containers we need to create a bridge network with</p>\n<p><code class=\"language-text\">docker network create &lt;network-name&gt;</code></p>\n<p>in our case, let's name it <code class=\"language-text\">my-net</code>. Such an original name. <img alt=\"emoji-sweat_smile\" data-icon=\"emoji-sweat_smile\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sweat_smile\"></p>\n<p>and then you attach your running containers to the newly created network with</p>\n<p><code class=\"language-text\">docker network connect my-net my-dev-db</code>\n<code class=\"language-text\">docker network connect my-net my-web-app</code></p>\n<p>now if you run the command <code class=\"language-text\">docker network inspect my-net</code> you should see your containers listed. Now your containers should see each other and can talk with each other.</p>\n<p>If you want to learn more, check out <a href=\"https://docs.docker.com/network/bridge/\" target=\"_blank\" rel=\"noopener noreferrer\">the official Docker documentation</a></p>\n<p>If you want to know how to do the same thing using <strong>Docker Compose</strong>, just take a look <a href=\"https://docs.docker.com/compose/networking/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a></p>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/how-to-connect-multiple-docker-containers/"},"frontmatter":{"title":"Quick recipe: How to connect multiple Docker containers","description":"Learn how to build a network of containers","date":"Feb 22, 2018","tags":["docker","containers"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAEDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAFV9JoRDC//xAAaEAADAQADAAAAAAAAAAAAAAABAhEAAxIT/9oACAEBAAEFAn5DfVssYdVsGQQf/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/AYV//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/AaF//8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBIQIQMf/aAAgBAQAGPwJYRpwNWcKP/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARMUFRIWH/2gAIAQEAAT8h9qXtg4i53yIKWdhiX1HkgVii5//aAAwDAQACAAMAAAAQPM//xAAWEQEBAQAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8Qo1c//8QAFhEBAQEAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/EACTP//EABsQAAICAwEAAAAAAAAAAAAAAAERACExQWFx/9oACAEBAAE/EAaQdFjyMuMCuSeucmtHNswZEgsYbBoKxcy7ArpM/9k=","aspectRatio":1.7699115044247788,"src":"/static/8fea838ab6e497c2593cca13497505f5/14b42/cover.jpg","srcSet":"/static/8fea838ab6e497c2593cca13497505f5/f836f/cover.jpg 200w,\n/static/8fea838ab6e497c2593cca13497505f5/2244e/cover.jpg 400w,\n/static/8fea838ab6e497c2593cca13497505f5/14b42/cover.jpg 800w,\n/static/8fea838ab6e497c2593cca13497505f5/16310/cover.jpg 1024w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"41f70c7f-b9dd-5d26-8a8a-158f859b9b57","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>As you already know, I like to read a lot. <img alt=\"emoji-notebook_with_decorative_cover\" data-icon=\"emoji-notebook_with_decorative_cover\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-notebook_with_decorative_cover\"><br>\nHere is a list of some of the programming resources I found more interesting in 2017.<br>\nEnjoy. <img alt=\"emoji-simple_smile\" data-icon=\"emoji-simple_smile\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-simple_smile\"></p>\n<h2>Scala and Functional Programming</h2>\n<p><a href=\"https://underscore.io/books/scala-with-cats/\" target=\"_blank\" rel=\"noopener noreferrer\">Scala with cats</a> </p>\n<p><a href=\"http://www.codecommit.com/blog/ruby/monads-are-not-metaphors\" target=\"_blank\" rel=\"noopener noreferrer\">Monads are not metaphors</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=g_jP47HFpWA\" target=\"_blank\" rel=\"noopener noreferrer\">The Making of an IO - Daniel Spiewak</a></p>\n<p><a href=\"https://typelevel.org/blog/2017/05/02/io-monad-for-cats.html\" target=\"_blank\" rel=\"noopener noreferrer\">An IO Monad for Cats</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=wi_vLNULh9Y\" target=\"_blank\" rel=\"noopener noreferrer\">John A. De Goes, The Design of the Scalaz 8 Effect System</a></p>\n<p><a href=\"http://degoes.net/articles/easy-monads\" target=\"_blank\" rel=\"noopener noreferrer\">John A. De Goes, A Beginner-Friendly Tour through Functional Programming in Scala</a></p>\n<p><a href=\"https://www.manning.com/books/functional-and-reactive-domain-modeling\" target=\"_blank\" rel=\"noopener noreferrer\">Functional and Reactive domain modeling</a></p>\n<p><a href=\"https://drboolean.gitbooks.io/mostly-adequate-guide/content/\" target=\"_blank\" rel=\"noopener noreferrer\">Professor Frisby's Mosly adequate guide to functional programming</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=FW_CZFv0Kro\" target=\"_blank\" rel=\"noopener noreferrer\">Pathikrit Bhowmick, Scala Meta Live Coding Session</a></p>\n<p><a href=\"http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html\" target=\"_blank\" rel=\"noopener noreferrer\">Functors, Applicatives, And Monads In Pictures</a></p>\n<p><a href=\"https://medium.com/javascript-scene/composing-software-an-introduction-27b72500d6ea\" target=\"_blank\" rel=\"noopener noreferrer\">Composing Software</a></p>\n<p><a href=\"https://www.oreilly.com/ideas/the-evolution-of-scalable-microservices\" target=\"_blank\" rel=\"noopener noreferrer\">The evolution of scalable microservices</a></p>\n<h2>Web development</h2>\n<p><a href=\"https://ryanmccue.ca/5-real-world-uses-for-redis/\" target=\"_blank\" rel=\"noopener noreferrer\">5 Real World Uses cases for Redis</a></p>\n<p><a href=\"https://www.graph.cool/docs/\" target=\"_blank\" rel=\"noopener noreferrer\">Graphql Graphcool</a></p>\n<p><a href=\"https://www.howtographql.com\" target=\"_blank\" rel=\"noopener noreferrer\">How To GraphQL</a></p>\n<p><a href=\"https://www.confluent.io/blog/build-services-backbone-events/\" target=\"_blank\" rel=\"noopener noreferrer\">Build Services on a Backbone of Events</a></p>\n<p><a href=\"https://www.oreilly.com/ideas/modules-vs-microservices\" target=\"_blank\" rel=\"noopener noreferrer\">Modules vs. microservices</a></p>\n<p><a href=\"http://highscalability.com/blog/2017/12/11/netflix-what-happens-when-you-press-play.html\" target=\"_blank\" rel=\"noopener noreferrer\">How Netflix works</a></p>\n<h2>AI</h2>\n<p><a href=\"http://web.stanford.edu/class/cs20si/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">CS 20: Tensorflow for Deep Learning Research</a></p>\n<p><a href=\"https://github.com/oxford-cs-deepnlp-2017/lectures\" target=\"_blank\" rel=\"noopener noreferrer\">Oxford Deep NLP 2017</a></p>\n<p><a href=\"https://www.manning.com/books/reactive-machine-learning-systems\" target=\"_blank\" rel=\"noopener noreferrer\">Reactive Machine Learning Systems</a> </p>\n<p><a href=\"http://www.asimovinstitute.org/neural-network-zoo/\" target=\"_blank\" rel=\"noopener noreferrer\">Neural Networks Zoo</a></p>\n<p><a href=\"https://www.manning.com/books/grokking-deep-learning\" target=\"_blank\" rel=\"noopener noreferrer\">Grokking Deep Learning</a></p>\n<p><a href=\"http://neuralnetworksanddeeplearning.com/chap1.html\" target=\"_blank\" rel=\"noopener noreferrer\">Neural Networks And Deep Learning</a></p>\n<p><a href=\"https://docs.google.com/presentation/d/1kSuQyW5DTnkVaZEjGYCkfOxvzCqGEFzWBy4e9Uedd9k/\" target=\"_blank\" rel=\"noopener noreferrer\">Jason Mayes Machine Learning 101</a></p>\n<h2>Security</h2>\n<p><a href=\"https://www.manning.com/books/secure-by-design\" target=\"_blank\" rel=\"noopener noreferrer\">Secure By Design</a></p>\n<p><a href=\"https://cybersecuritybase.mooc.fi/\" target=\"_blank\" rel=\"noopener noreferrer\">Cyber Security Base with F‑Secure</a></p>\n<p>What about Yours?  </p>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/best-programming-resources-of-2017/"},"frontmatter":{"title":"The best programming resources I read in 2017","description":"Here is a list of some of the programming resources I found most interesting","date":"Jan 28, 2018","tags":["scala","functional programming","deep learning","security","machine learning"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAFLeZPiAhK//8QAGxAAAwACAwAAAAAAAAAAAAAAAAECERIDEyH/2gAIAQEAAQUC7YsuNDmva8LL9Gj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFhEBAQEAAAAAAAAAAAAAAAAAABIB/9oACAECAQE/AaxT/8QAGxAAAgIDAQAAAAAAAAAAAAAAABEBAhAhMUH/2gAIAQEABj8Clk2r5tDOEvH/xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhMUFx/9oACAEBAAE/IURoSs9gBLuhOSgIUIAInOQnK2bAPBP/2gAMAwEAAgADAAAAEK/f/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QWP/EABcRAAMBAAAAAAAAAAAAAAAAAAABIRH/2gAIAQIBAT8QWDhVP//EABsQAQACAwEBAAAAAAAAAAAAAAEAESFBUTHB/9oACAEBAAE/EKOh6WOPjBOjFBWiQ8euLPJQAi2w7GQ3KHqot3q1P//Z","aspectRatio":1.7699115044247788,"src":"/static/d06eaf2741e4fed40587a7cc215a8d5c/14b42/cover.jpg","srcSet":"/static/d06eaf2741e4fed40587a7cc215a8d5c/f836f/cover.jpg 200w,\n/static/d06eaf2741e4fed40587a7cc215a8d5c/2244e/cover.jpg 400w,\n/static/d06eaf2741e4fed40587a7cc215a8d5c/14b42/cover.jpg 800w,\n/static/d06eaf2741e4fed40587a7cc215a8d5c/47498/cover.jpg 1200w,\n/static/d06eaf2741e4fed40587a7cc215a8d5c/a6974/cover.jpg 1536w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"853960dd-f6ea-5edc-96d2-06bc2fdf6804","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>You have a RESTful api as a source of data for your mobile applications or a reactjs/angular/vue/whatever frontend, and you, as a security conscious software engineer (or a good student that follows <a href=\"https://github.com/shieldfy/API-Security-Checklist\" target=\"_blank\" rel=\"noopener noreferrer\">these security guidelines</a> ) want to protect your precious endpoints from unwanted eyes.</p>\n<h2>What is JWT</h2>\n<p>As explained in <a href=\"https://jwt.io/introduction/\" target=\"_blank\" rel=\"noopener noreferrer\">the official JWT page</a> or in the <a href=\"https://tools.ietf.org/html/rfc7519\" target=\"_blank\" rel=\"noopener noreferrer\">RFC 7519</a>:</p>\n<p><em>JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA.</em></p>\n<p>In brief, it's a string with the following format</p>\n<p><code class=\"language-text\">header.payload.signature</code></p>\n<p>where each part is <strong>base64url</strong> encoded, interactive examples <a href=\"https://jwt.io/#debugger\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>Just rember that the payload is not encrypted and <strong>ANYONE</strong> that has access to the token can see what's inside. An attacker can inspect the payload but he can't tamper with it because it's signed with a <strong>STRONG</strong> key that you generated.</p>\n<p>My library of choice to encode/decode/verify JWT with Scala is <a href=\"http://pauldijou.fr/jwt-scala\" target=\"_blank\" rel=\"noopener noreferrer\">jwt-scala</a></p>\n<h2>Building an interceptor with Lift</h2>\n<p>The api we want to protect is the following</p>\n<p><code class=\"language-text\">GET /api/secured/treasure</code></p>\n<p>I would like to have a middleware (in Express.js terms, a decorator if you are a Python lover) that intercepts every request that points to a protected resource, decode the JWT inside of the http request's <strong>Authorization</strong> header and allow or deny access to the forementioned resource according to the token validity.</p>\n<p><strong>How can we do this with Lift?</strong></p>\n<p>The <code class=\"language-text\">LiftRules</code> object is where most of the configuration parameters that handles HTTP request and responses reside.\nIt gets initialized during boot.</p>\n<p>As the <a href=\"https://exploring.liftweb.net/master/index-9.html#toc-Section-9.9\" target=\"_blank\" rel=\"noopener noreferrer\">documentation says</a>, this is the place where we tell Lift what resource needs to be protected and how.</p>\n<p>Lift doesn't support Token based authentication out of the box, but thanks to its extensibility we can easily write our own JWT authenticator.</p>\n<p>Let the fun begin!</p>\n<p>Let's start with informing Lift that out precious API needs to be protected.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">def</span> protectedRoutes<span class=\"token operator\">:</span> LiftRules<span class=\"token punctuation\">.</span>HttpAuthProtectedResourcePF <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//Empty means that this resource is protected by authentication but no authorization is performed</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">\"api\"</span> <span class=\"token operator\">::</span> <span class=\"token string\">\"secured\"</span> <span class=\"token operator\">::</span> <span class=\"token string\">\"treasure\"</span> <span class=\"token operator\">::</span> Nil JsonGet _ <span class=\"token keyword\">=></span> Empty\n<span class=\"token punctuation\">}</span>\nLiftRules<span class=\"token punctuation\">.</span>httpAuthProtectedResource<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>protectedRoutes<span class=\"token punctuation\">)</span>\nLiftRules<span class=\"token punctuation\">.</span>authentication <span class=\"token operator\">=</span> JWTAuthentication<span class=\"token punctuation\">(</span><span class=\"token string\">\"api\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n    <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>For each <code class=\"language-text\">HttpAuthProtectedResourcePF</code> inside <code class=\"language-text\">LiftRules.httpAuthProtectedResource</code>, Lift will use the authentication mechanism defined with <code class=\"language-text\">LiftRules.authentication</code>.<br>\nIn our case <code class=\"language-text\">JWTAuthentication</code>.</p>\n<p>Let's write it.</p>\n<p>First thing to do, in order to tell Lift we are writing an HTTP authentication method, we must extend the <code class=\"language-text\">HttpAuthentication</code> trait</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">trait</span> HttpAuthentication <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">def</span> header<span class=\"token punctuation\">(</span>r<span class=\"token operator\">:</span> Req<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Box<span class=\"token punctuation\">[</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>header<span class=\"token punctuation\">(</span><span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">def</span> verified_<span class=\"token operator\">?</span> <span class=\"token operator\">:</span> PartialFunction<span class=\"token punctuation\">[</span>Req<span class=\"token punctuation\">,</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">def</span> realm<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">def</span> unauthorizedResponse<span class=\"token operator\">:</span> UnauthorizedResponse <span class=\"token operator\">=</span> UnauthorizedResponse<span class=\"token punctuation\">(</span>realm<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">def</span> shutDown <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>and override the <code class=\"language-text\">verified_?</code> partial function, that is the bouncer of our API.</p>\n<p>Inside the <code class=\"language-text\">verified_?</code> partial function we need to take the token from the request's <code class=\"language-text\">Authorization</code> header, verify it and decode its payload, if we are interested in the claims inside its stomach.<br>\nIf <code class=\"language-text\">verified_?</code> returns <code class=\"language-text\">true</code>, the client is allowed, otherwise a 401 UnauthorizedResponse will be returned.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">case</span> <span class=\"token keyword\">class</span> JWTAuthentication<span class=\"token punctuation\">(</span>realmName<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> PartialFunction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> Req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">extends</span> HttpAuthentication <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token comment\">//If the credentials functions returns a Full box, func gets executed</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> verified_<span class=\"token operator\">?</span> <span class=\"token operator\">:</span> PartialFunction<span class=\"token punctuation\">[</span>Req<span class=\"token punctuation\">,</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n        credentials<span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">match</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> Full<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> func<span class=\"token punctuation\">.</span>isDefinedAt<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n            jwtClaims<span class=\"token punctuation\">.</span>set<span class=\"token punctuation\">(</span>Option<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            func<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">case</span> _ <span class=\"token keyword\">=></span> <span class=\"token boolean\">false</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">credentials</code> is a simple function that decodes the JWT with your secret and a given algorithm, you can find the full code at the end of this post.</p>\n<p>Now we have an interceptor that can extract a JWT from each request that points to a protected resource, but how can we examine the claims that are inside the token without redoing the work that our interceptor has already done? </p>\n<p>It's simple, we can stick our decoded payload in a <code class=\"language-text\">TransientRequestVar</code>, a request variable that has the scope of the current HTTP request.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">object</span> jwtClaims <span class=\"token keyword\">extends</span> TransientRequestVar<span class=\"token punctuation\">[</span>Option<span class=\"token punctuation\">[</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>Empty<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now in our api we can access jwtClaims and analyze the JWT payload.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">object</span> SecuredApi <span class=\"token keyword\">extends</span> RestHelper<span class=\"token punctuation\">{</span>\n  serve<span class=\"token punctuation\">(</span><span class=\"token string\">\"api\"</span> <span class=\"token operator\">/</span> <span class=\"token string\">\"secured\"</span> prefix <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">case</span> <span class=\"token string\">\"treasure\"</span> <span class=\"token operator\">::</span> Nil JsonGet _ <span class=\"token keyword\">=></span>\n       <span class=\"token comment\">//Here you can access jwtClaims TransientRequestVar</span>\n       JString<span class=\"token punctuation\">(</span><span class=\"token string\">\"My Treasure\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This example is purposefully simple in order to make you better understand the general architecture, a better approach would be deserialize our claims and stick inside the TransientRequestVar not a String but a more suitable and easier to manage data type.</p>\n<p>Here below, for your enjoyment, the full source code.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">object</span> SecuredApi <span class=\"token keyword\">extends</span> RestHelper<span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">def</span> init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">def</span> protectedRoutes<span class=\"token operator\">:</span> LiftRules<span class=\"token punctuation\">.</span>HttpAuthProtectedResourcePF <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">//Empty means that this resource is protected by authentication but no authorization is performed</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"api\"</span> <span class=\"token operator\">::</span> <span class=\"token string\">\"secured\"</span> <span class=\"token operator\">::</span> <span class=\"token string\">\"treasure\"</span> <span class=\"token operator\">::</span> Nil JsonGet _ <span class=\"token keyword\">=></span> Empty\n    <span class=\"token punctuation\">}</span>\n    LiftRules<span class=\"token punctuation\">.</span>httpAuthProtectedResource<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>protectedRoutes<span class=\"token punctuation\">)</span>\n    LiftRules<span class=\"token punctuation\">.</span>authentication <span class=\"token operator\">=</span> JWTAuthentication<span class=\"token punctuation\">(</span><span class=\"token string\">\"api\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n        <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n    LiftRules<span class=\"token punctuation\">.</span>statelessDispatch<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>SecuredApi<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n\n  serve<span class=\"token punctuation\">(</span><span class=\"token string\">\"api\"</span> <span class=\"token operator\">/</span> <span class=\"token string\">\"secured\"</span> prefix <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">case</span> <span class=\"token string\">\"treasure\"</span> <span class=\"token operator\">::</span> Nil JsonGet _ <span class=\"token keyword\">=></span>\n       <span class=\"token comment\">//Here you can access jwtClaims TransientRequestVar</span>\n       JString<span class=\"token punctuation\">(</span><span class=\"token string\">\"My Treasure\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">object</span> jwtClaims <span class=\"token keyword\">extends</span> TransientRequestVar<span class=\"token punctuation\">[</span>Option<span class=\"token punctuation\">[</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>Empty<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">case</span> <span class=\"token keyword\">class</span> JWTAuthentication<span class=\"token punctuation\">(</span>realmName<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>func<span class=\"token operator\">:</span> PartialFunction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> Req<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">extends</span> HttpAuthentication <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">//Take the JWT from the Authorization header</span>\n  <span class=\"token keyword\">def</span> credentials<span class=\"token punctuation\">(</span>r<span class=\"token operator\">:</span> Req<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Box<span class=\"token punctuation\">[</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\n    header<span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>flatMap<span class=\"token punctuation\">{</span> token <span class=\"token keyword\">=></span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Jwt<span class=\"token punctuation\">.</span>isValid<span class=\"token punctuation\">(</span>sanitizeHeader<span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> secret<span class=\"token punctuation\">,</span> Seq<span class=\"token punctuation\">(</span>JwtAlgorithm<span class=\"token punctuation\">.</span>HS256<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Jwt<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span>sanitizeHeader<span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> secret<span class=\"token punctuation\">,</span> Seq<span class=\"token punctuation\">(</span>JwtAlgorithm<span class=\"token punctuation\">.</span>HS256<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">match</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">case</span> Success<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span> Full<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">case</span> Failure<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span> Empty\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        Empty\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">//If the credentials functions returns a Full box, func gets executed</span>\n  <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> verified_<span class=\"token operator\">?</span> <span class=\"token operator\">:</span> PartialFunction<span class=\"token punctuation\">[</span>Req<span class=\"token punctuation\">,</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n      credentials<span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">match</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> Full<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> func<span class=\"token punctuation\">.</span>isDefinedAt<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span>\n          jwtClaims<span class=\"token punctuation\">.</span>set<span class=\"token punctuation\">(</span>Option<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          func<span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> req<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">case</span> _ <span class=\"token keyword\">=></span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> realm<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span> <span class=\"token operator\">=</span> realmName\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/lift-framework-rest-apis-authentication-with-jwt/"},"frontmatter":{"title":"How to protect your RESTful APIs in Lift with JWT","description":"How to add authentication to your REST APIs","date":"Jul 21, 2017","tags":["jwt","security","authentication"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAByL1HYRICf//EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMREv/aAAgBAQABBQJAOriGmRTrXoq1aZ//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAwEBPwFX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRABAAMBAQAAAAAAAAAAAAAAAQAQESFR/9oACAEBAAY/AtnGgfZoV//EABsQAQACAgMAAAAAAAAAAAAAAAEAESFBMVFh/9oACAEBAAE/IQlGCFHD1qNdRHmEQBQbNz2n/9oADAMBAAIAAwAAABCn/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAARACH/2gAIAQMBAT8Q0In/xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/ENXD/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAUSEx/9oACAEBAAE/EIA3szHJev2nuogE7loJCdLvAM1p8j3AEGb/2Q==","aspectRatio":1.7699115044247788,"src":"/static/23df30569a73244528f464073936d6a0/14b42/cover.jpg","srcSet":"/static/23df30569a73244528f464073936d6a0/f836f/cover.jpg 200w,\n/static/23df30569a73244528f464073936d6a0/2244e/cover.jpg 400w,\n/static/23df30569a73244528f464073936d6a0/14b42/cover.jpg 800w,\n/static/23df30569a73244528f464073936d6a0/f8935/cover.jpg 887w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"9d841d25-68da-5040-a7a7-31424c4ed43d","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>Say you want to extend a particular class (type) with some new functionality but you can't access the source code..\nor perhaps you can but you don't want to use inheritance and subtype polimorphism..</p>\n<p>Let's suppose you have the following type that represents an uploaded picture</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">case</span> <span class=\"token keyword\">class</span> Picture<span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> uri<span class=\"token operator\">:</span> Uri<span class=\"token punctuation\">)</span>     </code></pre></div>\n<p>and you want to return the json representation of it to your clients.<br>\nYou can do something like this</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">trait</span> Jsonable<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">def</span> toJson<span class=\"token operator\">:</span> JValue\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">final</span> <span class=\"token keyword\">case</span> <span class=\"token keyword\">class</span> Picture<span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> uri<span class=\"token operator\">:</span> Uri<span class=\"token punctuation\">)</span> <span class=\"token keyword\">extends</span> Jsonable<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//implementation omitted</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>    </code></pre></div>\n<p>Then you realize that you need another type, Attachment.<br>\nNo problem, let's add another case class to the mix</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">case</span> <span class=\"token keyword\">class</span> Attachment<span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> uri<span class=\"token operator\">:</span> Uri<span class=\"token punctuation\">,</span> visibile<span class=\"token operator\">:</span> <span class=\"token builtin\">Boolean</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">extends</span> Jsonable<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//implementation omitted</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>    </code></pre></div>\n<p>Now you can serialize to json all of your case classes that extends the <em>Jsonable</em> trait</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">val</span> picture<span class=\"token operator\">:</span> Jsonable <span class=\"token operator\">=</span> Picture<span class=\"token punctuation\">(</span><span class=\"token string\">\"scalaitaly.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> Uri<span class=\"token punctuation\">(</span><span class=\"token string\">\"aws.s3.scalaitaly.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> attachment<span class=\"token operator\">:</span> Jsonable <span class=\"token operator\">=</span> Attachment<span class=\"token punctuation\">(</span><span class=\"token string\">\"speakers.pdf\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> Uri<span class=\"token punctuation\">(</span><span class=\"token string\">\"aws.s3.speakers.pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\nprintln<span class=\"token punctuation\">(</span>picture<span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">)</span>\nprintln<span class=\"token punctuation\">(</span>attachment<span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">)</span></code></pre></div>\n<p>This all works, but what if you don't have access to the source code of <code class=\"language-text\">Picture</code> or <code class=\"language-text\">Attachment</code>?\nIs there another way? Maybe more <strong>Scala-ish</strong>?   </p>\n<h2>Type Classes to the rescue</h2>\n<p>First and foremost. A Type Class has nothing to do with the concept of class in a typical Object Oriented programming language.<br>\nIt's a concept from the Haskell world and it's used to achieve <strong>ad-hoc polymorphism</strong>  </p>\n<h3>Type Classes in practice</h3>\n<p>The first thing to do is define the behavior that you want your classes to have, in this case we want our case classes to be serializable in the json format.<br>\nThat's the Type Class.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">trait</span> JsonWriter<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span>in<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JValue\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>then we need the Type Class instances for each concrete class we have</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">implicit</span> <span class=\"token keyword\">val</span> pictureJsonWriter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> JsonWriter<span class=\"token punctuation\">[</span>Picture<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span>in<span class=\"token operator\">:</span> Picture<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JValue <span class=\"token operator\">=</span> <span class=\"token operator\">?</span><span class=\"token operator\">?</span><span class=\"token operator\">?</span>\n<span class=\"token punctuation\">}</span>  \n  \n<span class=\"token keyword\">implicit</span> <span class=\"token keyword\">val</span> attachmentJsonWriter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> JsonWriter<span class=\"token punctuation\">[</span>Attachment<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span>in<span class=\"token operator\">:</span> Attachment<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> JValue <span class=\"token operator\">=</span> <span class=\"token operator\">?</span><span class=\"token operator\">?</span><span class=\"token operator\">?</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>we mark them <code class=\"language-text\">implicit</code> because we want the compiler to be able to inject the correct implementation into the interface the we are defining next</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">def</span> jsonOf<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>in<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">implicit</span> jsonWriter<span class=\"token operator\">:</span> JsonWriter<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">String</span> <span class=\"token operator\">=</span>\n  jsonWriter<span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">(</span>in<span class=\"token punctuation\">)</span></code></pre></div>\n<p>You can play with the code below  </p>\n<iframe height=\"300\" frameborder=\"0\" style=\"width: 100%; overflow: hidden;\" src=\"https://embed.scalafiddle.io/embed?sfid=eRUVeR8/5&layout=v80\"></iframe>\n<p>Wouldn't it better if the method <code class=\"language-text\">toJson</code> would be a part of the classes in our domain model but without touching them?\nAdding the functionality magically from the outside.</p>\n<p>I would like to write</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\">println<span class=\"token punctuation\">(</span>Picture<span class=\"token punctuation\">(</span><span class=\"token string\">\"mypic\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mypicurl\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">)</span>\nprintln<span class=\"token punctuation\">(</span>Attachment<span class=\"token punctuation\">(</span><span class=\"token string\">\"myattachment\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"myurl\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">)</span></code></pre></div>\n<p>As if <code class=\"language-text\">toJson</code> were a built-in method of the class.</p>\n<p>Yes, I know that, for example in Ruby, Javascript you can do monkey patching, but we are talking about compile time transformation, not runtime.</p>\n<p>In Scala you can achieve that using <strong>Implicit Classes</strong></p>\n<p>You just need to write </p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">implicit</span> <span class=\"token keyword\">class</span> JsonSerializer<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>data<span class=\"token operator\">:</span> T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">def</span> toJson<span class=\"token punctuation\">(</span><span class=\"token keyword\">implicit</span> writer<span class=\"token operator\">:</span> JsonWriter<span class=\"token punctuation\">[</span>T<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">String</span> <span class=\"token operator\">=</span> \n    writer<span class=\"token punctuation\">.</span>toJson<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This way, when you try to do something like <code class=\"language-text\">Picture(&quot;mypic&quot;, &quot;mypicurl&quot;).toJson</code>, the compiler, not finding the <code class=\"language-text\">toJson</code> method in the <code class=\"language-text\">Picture</code> class, tries to convert <code class=\"language-text\">Picture</code> in a <code class=\"language-text\">JsonSerializer</code> that has the method you want.<br>\nThen it passes as <code class=\"language-text\">implicit writer: JsonWriter[T]</code> your Type Class instance that you defined for <code class=\"language-text\">Picture</code> before.  </p>\n<p>You can play with the final code below  </p>\n<iframe height=\"300\" frameborder=\"0\" style=\"width: 100%; overflow: hidden;\" src=\"https://embed.scalafiddle.io/embed?sfid=V6QiLPI/1&layout=v80\"></iframe>\n<h3>Conclusions</h3>\n<p>With this powerful design pattern we have achieved an impressive result.<br>\nWe can now add new data or new methods to existing types without changing any existing code.  </p>\n<p>It's certainly a design pattern that is useful to have in your toolbelt.<br>\nIt's so important that many famous libraries such as <a href=\"https://github.com/milessabin/shapeless\" target=\"_blank\" rel=\"noopener noreferrer\">Shapeless</a>, <a href=\"http://typelevel.org/cats/\" target=\"_blank\" rel=\"noopener noreferrer\">Cats</a>, <a href=\"https://github.com/scalaz/scalaz\" target=\"_blank\" rel=\"noopener noreferrer\">Scalaz</a> and so on, couldn't even exists without this.</p>\n<p>If you want to learn more (yes you want) I suggest you <a href=\"http://underscore.io/books/advanced-scala/\" target=\"_blank\" rel=\"noopener noreferrer\">Advanced Scala</a> by the amazing guys of <a href=\"http://underscore.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Underscore.io</a>.  </p>\n<p>Moreover, they recently open sourced all their ebooks, you can download all of them for free <a href=\"http://underscore.io/books/\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>, what are you waiting for?</p>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/type-classes-in-scala-a-practical-example/"},"frontmatter":{"title":"Type Classes in Scala: A Practical Example","description":"A guided practical tour of the Type Class pattern ","date":"Jun 02, 2017","tags":["scala","functional programming","type class"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHLVqxSA//EABgQAAIDAAAAAAAAAAAAAAAAAAEQAAJB/9oACAEBAAEFAtshCv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAMAAwAAAAAAAAAAAAAAAAABERAxQf/aAAgBAQABPyFTYjjKJbl//9oADAMBAAIAAwAAABDcH//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQEAAwEBAAAAAAAAAAAAAAERABAhYdH/2gAIAQEAAT8QaQONxHkPBpoSss+4QsDX/9k=","aspectRatio":1.7699115044247788,"src":"/static/6ab2fd4bfe0459a6b8134f0f8248dafd/14b42/cover.jpg","srcSet":"/static/6ab2fd4bfe0459a6b8134f0f8248dafd/f836f/cover.jpg 200w,\n/static/6ab2fd4bfe0459a6b8134f0f8248dafd/2244e/cover.jpg 400w,\n/static/6ab2fd4bfe0459a6b8134f0f8248dafd/14b42/cover.jpg 800w,\n/static/6ab2fd4bfe0459a6b8134f0f8248dafd/a6352/cover.jpg 960w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"fdab1b71-501c-5171-b763-9cc101f4cfd6","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>Here you are.</p>\n<p>For a long time you had the feeling that something wasn't quite right.<br>\nDuring your functional programming journey you started hearing things like monads, functor, applicative, group, semigroup.<br>\nMaybe even kleisli or natural transformations.<br>\nScary terms, I know.\nIt's late at night.<br>\nThen you suddenly wake up in your room and remember that not long ago someone told you about <a href=\"https://en.wikipedia.org/wiki/Category_theory\" target=\"_blank\" rel=\"noopener noreferrer\">category theory</a>.<br>\nMaybe that's the answer you are looking for...</p>\n<p>Knock Knock Neo..</p>\n<h2>What is Category Theory</h2>\n<p>As Philip Wadler said: </p>\n<p><em>\"Category theory is easy stuff that I understand very well, made difficult.\"</em>  </p>\n<p>Here I'm going to point you to some resources that I found very helpful helping me to learn Category Theory.  </p>\n<p><a href=\"https://www.youtube.com/watch?v=V10hzjgoklA\" target=\"_blank\" rel=\"noopener noreferrer\">Category Theory for the Working Hacker</a> by Philip Wadler</p>\n<p>My favourite is the series\n<a href=\"https://www.youtube.com/watch?v=I8LbkfSSR58&list=PLbgaMIhjbmEnaH_LTkxLI7FMa2HsnawM_\" target=\"_blank\" rel=\"noopener noreferrer\">Category Theory For Programmers 1</a> and\n<a href=\"https://www.youtube.com/watch?v=3XTQSx1A3x8&list=PLbgaMIhjbmElia1eCEZNvsVscFef9m0dm\" target=\"_blank\" rel=\"noopener noreferrer\">Category Theory For Programmers 2</a>  by Bartosz Milewski.<br>\nHe is very good at teaching and in his lectures you can find very helpful practical examples.<br>\nIf you are strongly interested in Category Theory, watching these lectures will be time well spent.</p>\n<p>If you prefer reading, <a href=\"https://bartoszmilewski.com/2014/10/28/category-theory-for-programmers-the-preface/\" target=\"_blank\" rel=\"noopener noreferrer\">he also has a blog</a>.<br>\nThere is also <a href=\"https://hseeberger.wordpress.com/2010/11/25/introduction-to-category-theory-in-scala/\" target=\"_blank\" rel=\"noopener noreferrer\">this blog post</a> by Heiko Seeberger.  </p>\n<p>Don't miss <a href=\"http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html\" target=\"_blank\" rel=\"noopener noreferrer\">this</a> awesome visual explanation of Functors Monads and Applicatives.</p>\n<p>For more practical examples in <strong>Scala</strong> take a look at the <a href=\"http://typelevel.org/cats/typeclasses.html\" target=\"_blank\" rel=\"noopener noreferrer\">Cats</a> library.<br>\nThe documentation is very well written, and Eugene Yokota wrote <a href=\"http://eed3si9n.com/herding-cats/\" target=\"_blank\" rel=\"noopener noreferrer\">this</a> nice blog post series.  </p>\n<p>After you have a general idea of what category theory is, you can dive into <strong>type classes</strong> with <a href=\"http://channingwalton.github.io/typeclassopedia/\" target=\"_blank\" rel=\"noopener noreferrer\">typeclassopedia</a>, <a href=\"http://blog.scalac.io/2017/04/19/typeclasses-in-scala.html\" target=\"_blank\" rel=\"noopener noreferrer\">this blog post</a> and <a href=\"/type-classes-in-scala-a-practical-example/\" target=\"_blank\" rel=\"noopener noreferrer\">this one</a>.    </p>\n<p>I hope that those resources will help you to connect the dots between all of these concepts.</p>\n<p>Keep Learning.<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/functional-programming-and-category-theory/"},"frontmatter":{"title":"Functional Programming and Category Theory","description":"Want to improve your functional programming skills?","date":"May 14, 2017","tags":["scala","functional programming","category theory","monads"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGa3QyJA4P/xAAaEAEBAAIDAAAAAAAAAAAAAAACAQADBBES/9oACAEBAAEFAtLudvE3UNY8wHORIX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAgIDAAAAAAAAAAAAAAAAAREhEiIxUYH/2gAIAQEABj8CifB7vnoYniOhRVH/xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMUGBkf/aAAgBAQABPyFo+DgyGqwEYPsQMd7UyZdG+oJoYZGlOT//2gAMAwEAAgADAAAAEKcv/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EKF//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhEf/aAAgBAgEBPxBHuNt//8QAHBABAAMBAQADAAAAAAAAAAAAAQARITFhcaHR/9oACAEBAAE/EOZwwi+ebGro65AOs+owFVYJfsMPXY3llGC7X3n7CKWVYOs//9k=","aspectRatio":1.7857142857142858,"src":"/static/a945fb2c9251f51f20fae97d082a8312/5eb52/cover.jpg","srcSet":"/static/a945fb2c9251f51f20fae97d082a8312/f836f/cover.jpg 200w,\n/static/a945fb2c9251f51f20fae97d082a8312/2244e/cover.jpg 400w,\n/static/a945fb2c9251f51f20fae97d082a8312/5eb52/cover.jpg 580w","sizes":"(max-width: 580px) 100vw, 580px"}}}}}},{"node":{"id":"207ac959-60df-514b-a7df-6db8c93741dc","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>Sometimes Scala compiler errors can be too cryptic and scare beginners away</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\">error<span class=\"token operator\">:</span> diverging <span class=\"token keyword\">implicit</span> expansion <span class=\"token keyword\">for</span> <span class=\"token keyword\">type</span> scala<span class=\"token punctuation\">.</span>collection<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span>CanBuildFrom<span class=\"token punctuation\">[</span>ird<span class=\"token punctuation\">.</span>replay<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>GraphType<span class=\"token punctuation\">.</span>ValueSet<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span>ird<span class=\"token punctuation\">.</span>replay<span class=\"token punctuation\">.</span>gui<span class=\"token punctuation\">.</span>GraphType<span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">,</span> org<span class=\"token punctuation\">.</span>jfree<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span>TimeSeries<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>That<span class=\"token punctuation\">]</span>\nstarting <span class=\"token keyword\">with</span> method newCanBuildFrom in <span class=\"token keyword\">object</span> SortedSet</code></pre></div>\n<p>Or</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span> TheNextFacebook<span class=\"token punctuation\">.</span>scala<span class=\"token operator\">:</span><span class=\"token number\">16</span><span class=\"token operator\">:</span> <span class=\"token keyword\">type</span> mismatch<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>  found   <span class=\"token operator\">:</span> akka<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>scaladsl<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>StandardRoute\n<span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>  required<span class=\"token operator\">:</span> akka<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">.</span>scaladsl<span class=\"token punctuation\">.</span>Flow<span class=\"token punctuation\">[</span>akka<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>scaladsl<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>HttpRequest<span class=\"token punctuation\">,</span>akka<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>scaladsl<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>HttpResponse<span class=\"token punctuation\">,</span><span class=\"token builtin\">Any</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>   Http<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>bindAndHandle<span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">,</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>What if we could have right now an human friendly explanation of the error, similar to what <a href=\"https://elm-lang.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Elm</a> or <a href=\"https://reactnative.dev/blog/2020/07/06/version-0.63\" target=\"_blank\" rel=\"noopener noreferrer\">React</a> do?\n(Well, even Scala itself with <a href=\"http://scala-lang.org/blog/2016/10/14/dotty-errors.html\" target=\"_blank\" rel=\"noopener noreferrer\">Dotty</a> will have it but in the future)</p>\n<p>Scala <a href=\"https://github.com/softwaremill/scala-clippy\" target=\"_blank\" rel=\"noopener noreferrer\">Clippy</a> is a compiler (or SBT) plugin that does just that.</p>\n<p>Just import it in your project</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\">addSbtPlugin<span class=\"token punctuation\">(</span><span class=\"token string\">\"com.softwaremill.clippy\"</span> <span class=\"token operator\">%</span> <span class=\"token string\">\"plugin-sbt\"</span> <span class=\"token operator\">%</span> <span class=\"token string\">\"0.5.1\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>and the previous error magically becomes</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>  Clippy advises<span class=\"token operator\">:</span> did you forget to define an <span class=\"token keyword\">implicit</span> akka<span class=\"token punctuation\">.</span>stream<span class=\"token punctuation\">.</span>ActorMaterializer<span class=\"token operator\">?</span>\n<span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>  It allows routes to be converted into a flow<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">[</span>error<span class=\"token punctuation\">]</span>  You can read more at http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>doc<span class=\"token punctuation\">.</span>akka<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>docs<span class=\"token operator\">/</span>akka<span class=\"token operator\">-</span>stream<span class=\"token operator\">-</span>and<span class=\"token operator\">-</span>http<span class=\"token operator\">-</span>experimental<span class=\"token operator\">/</span><span class=\"token number\">2.0</span><span class=\"token operator\">/</span>scala<span class=\"token operator\">/</span>http<span class=\"token operator\">/</span>routing<span class=\"token operator\">-</span>dsl<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>html</code></pre></div>\n<p>But there is no magic, it's all community driven.<br>\nWhen first started Clippy will download the current advice list from<br>\n<a href=\"https://scala-clippy.org/\" target=\"_blank\" rel=\"noopener noreferrer\">scala-clippy.org</a>.<br>\nIt's community driven so you can also contribute!</p>\n<p>For more detailed instructions on how to setup just visit the <a href=\"https://github.com/softwaremill/scala-clippy\" target=\"_blank\" rel=\"noopener noreferrer\">Clippy Github repository.</a></p>\n<p>Keep Learning<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/human-friendly-errors-for-scala/"},"frontmatter":{"title":"Human Friendly errors for Scala","description":"Learn how to make Scala errors more human friendly","date":"Feb 17, 2017","tags":["scala","functional programming"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHm5pQKYYaT/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECERIQ/9oACAEBAAEFAs0NMyRSrn//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARL/2gAIAQMBAT8Btaf/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAhIh/9oACAECAQE/AY6q/8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/Air/AP/EABwQAQEAAQUBAAAAAAAAAAAAAAEAETFBUWGRof/aAAgBAQABPyE2n5EYrr2VniV5nW//2gAMAwEAAgADAAAAEIsP/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/EEwP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QBD//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMWGRobH/2gAIAQEAAT8QJU9u3OM0D1K9Msby4lqG62Y+QhheYBTU/9k=","aspectRatio":1.7699115044247788,"src":"/static/d5ed1b6d16b5ee4c378b1712deee523d/14b42/cover.jpg","srcSet":"/static/d5ed1b6d16b5ee4c378b1712deee523d/f836f/cover.jpg 200w,\n/static/d5ed1b6d16b5ee4c378b1712deee523d/2244e/cover.jpg 400w,\n/static/d5ed1b6d16b5ee4c378b1712deee523d/14b42/cover.jpg 800w,\n/static/d5ed1b6d16b5ee4c378b1712deee523d/a6352/cover.jpg 960w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"c6de3764-b9d9-541e-b949-ae82f8ab4581","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>If you are like me you like designing and building robust and secure software.\nSecurity analysis is hard and can be tedious but doesn't have to be.<br>\nWhat about if it was a game?   </p>\n<p>OWASP Cornucopia is a card game based on the structure of the OWASP <a href=\"https://www.owasp.org/index.php/OWASP_Secure_Coding_Practices_-_Quick_Reference_Guide\" target=\"_blank\" rel=\"noopener noreferrer\">Secure Coding Practices</a>\nto help development teams, especially those using Agile methodologies, to identify application security requirements\nand develop security-based user stories.<br>\nThe idea isn't new. The Microsoft SDL team had already published its <a href=\"https://www.microsoft.com/en-us/SDL/adopt/eop.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">Elevation of Privilege (EoP)</a>\ncard game but the Cornucopia specifically addresses those kind of issues that web application development teams\nmostly have to address.</p>\n<p><a href=\"https://www.owasp.org/index.php/OWASP_Cornucopia\" target=\"_blank\" rel=\"noopener noreferrer\">Cornucopia</a> is based on the concepts and game ideas in EoP, but those have been modified to be more rilevant to the types of issues\necommerce website developers encounter.\nIf you are not familiar with <a href=\"https://en.wikipedia.org/wiki/STRIDE_(security)\" target=\"_blank\" rel=\"noopener noreferrer\">STRIDE</a> and <a href=\"https://en.wikipedia.org/wiki/DREAD_(risk_assessment_model)\" target=\"_blank\" rel=\"noopener noreferrer\">DREAD</a> (but even if you are), give this deck of cards a chance.</p>\n<p>The deck has five suits</p>\n<ul>\n<li>Data Validation and encoding (VE)</li>\n<li>Authentication (AT)</li>\n<li>Session Management (SM)</li>\n<li>Authorization (AZ)</li>\n<li>Cryptography (CR)</li>\n<li>Cornucopia (C) </li>\n</ul>\n<p>The suit Cornucopia is for anything else</p>\n<p>Each card describes an attack, the attacker is given a name.\nYou can play the game in many different ways, for examples check the official <a href=\"https://www.owasp.org/index.php/OWASP_Cornucopia\" target=\"_blank\" rel=\"noopener noreferrer\">OWASP Cornucopia Wiki</a></p>\n<p>Huge thanks to <a href=\"http://blackfootuk.com/cornucopia/\" target=\"_blank\" rel=\"noopener noreferrer\">Blackfoot</a> for sending me this deck. <img alt=\"emoji-raised_hands\" data-icon=\"emoji-raised_hands\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-raised_hands\"></p>\n<p>Keep Learning.<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/building-secure-software-with-a-card-game/"},"frontmatter":{"title":"Building Secure Software With a Card Game","description":"Have you ever heard of OWASP Cornucopia?","date":"Feb 16, 2017","tags":["owasp","secure development","cornucopia"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAEHlYppCK//xAAZEAADAQEBAAAAAAAAAAAAAAAAAQIRECH/2gAIAQEAAQUCiin7prQ6b5//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8BNX//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQIBAT8BEX//xAAaEAACAgMAAAAAAAAAAAAAAAABEQAQIUFR/9oACAEBAAY/Ai8x65TEFf/EABsQAQEAAgMBAAAAAAAAAAAAAAERACEQMVFh/9oACAEBAAE/IQ6I8yRiPWkcl2EPuJaRyeXj/9oADAMBAAIAAwAAABA4L//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAwEBPxAJhtv/xAAXEQADAQAAAAAAAAAAAAAAAAAAASER/9oACAECAQE/ELbSH//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQVGx/9oACAEBAAE/EHlsDi1b7EDyFgIWt9xa+ONMAMHsmxZd4B8hxP/Z","aspectRatio":1.7699115044247788,"src":"/static/7dd6da85e25e5be48c3ede6c98b2458f/14b42/cover.jpg","srcSet":"/static/7dd6da85e25e5be48c3ede6c98b2458f/f836f/cover.jpg 200w,\n/static/7dd6da85e25e5be48c3ede6c98b2458f/2244e/cover.jpg 400w,\n/static/7dd6da85e25e5be48c3ede6c98b2458f/14b42/cover.jpg 800w,\n/static/7dd6da85e25e5be48c3ede6c98b2458f/16310/cover.jpg 1024w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"89d92d4b-24d5-5c88-8e0e-e7e5dce841bd","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>You have a piece of HTML like the following</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>utf-8</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Your Snippet<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token attr-name\">data-lift</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ConditionalRendering<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>subtitle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Inclusions<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inclusions<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>inclusions-text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Guided tour<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span>\n </code></pre></div>\n<p>and you want to hide the entire container if some condition is true.<br>\nOtherwise you want to display something inside the container.<br>\nMaybe populating an unordered list.</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"><span class=\"token keyword\">class</span> ConditionalRendering<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">def</span> render<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>NodeSeq<span class=\"token punctuation\">)</span> <span class=\"token keyword\">=></span> NodeSeq <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"#content-container\"</span> #<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>trueness<span class=\"token punctuation\">)</span> PassThru <span class=\"token keyword\">else</span> ClearNodes<span class=\"token punctuation\">}</span> andThen\n    <span class=\"token string\">\"#inclusions\"</span> #<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\".inclusions-text *\"</span> #<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> List<span class=\"token punctuation\">(</span><span class=\"token string\">\"food\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"drinks\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>                     \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n </code></pre></div>\n<p>The key part is <strong>andThen</strong> because if you use the <strong>&#x26;</strong> chaining method, the CSS selectors are applied to the\noriginal template, no matter what other selectors you are using.<br>\nIn contrast, with <strong>andThen</strong> you are composing two functions with the first being executed before the second.</p>\n<p>Keep Learning.<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/how-to-conditionally-render-html-with-scala-and-lift/"},"frontmatter":{"title":"How to conditionally render HTML with Scala and the Lift Framework","description":"Learn how to render HTML conditionally with Scala and Lift","date":"Feb 01, 2017","tags":["scala","lift framework"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABgQNFEaPP/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARAgMQMf/aAAgBAQABBQKgmXNRalR9/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/AXGf/8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEgMUH/2gAIAQEABj8CpGR//8QAGhABAQACAwAAAAAAAAAAAAAAAQARIUFh8f/aAAgBAQABPyF4m9sx9SYYMDAECW1//9oADAMBAAIAAwAAABAbH//EABURAQEAAAAAAAAAAAAAAAAAABBx/9oACAEDAQE/EIf/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EIRdZT//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMdFBUXGRsf/aAAgBAQABPxChQo1Q34EmKVdw5sKjB7gK1M4FPkOUA8RNlU9J/9k=","aspectRatio":1.7699115044247788,"src":"/static/5d063f7d1d4a55729076affc69c18e43/14b42/cover.jpg","srcSet":"/static/5d063f7d1d4a55729076affc69c18e43/f836f/cover.jpg 200w,\n/static/5d063f7d1d4a55729076affc69c18e43/2244e/cover.jpg 400w,\n/static/5d063f7d1d4a55729076affc69c18e43/14b42/cover.jpg 800w,\n/static/5d063f7d1d4a55729076affc69c18e43/0fba5/cover.jpg 880w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},{"node":{"id":"e2f51d9e-0920-55de-8cb1-35fd9f6ec3b2","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<h2>What is an isomorphic web application?</h2>\n<p>An isomorphism is a mathematical term used to indicate that two things, from an high level perspective, are essentialy the same.<br>\nIn the context of web applications it means that we have code shared between the front-end and the back-end.<br>\nIt also means that we can execute the client side code on the server.<br>\nWith no doubt a more clear and less scary term is <strong>Universal web application</strong>.    </p>\n<p>With the traditional approach of an application built with an MVC framework (one that doesn't support server side rendering of your front-end components) and an API backend, the client has to wait for the JavaScript to download and execute until he can finally see something. And we know from <a href=\"http://blog.gigaspaces.com/amazon-found-every-100ms-of-latency-cost-them-1-in-sales/\" target=\"_blank\" rel=\"noopener noreferrer\">studies</a> that a reduction of 100ms of page load can make a big difference.</p>\n<h2>Why is server side rendering useful?</h2>\n<p>It's useful for a number of reasons:</p>\n<ul>\n<li><strong>SEO</strong>: Having your MVC framework generate the views client side make difficult, if not impossibile, for crawlers to index your application. That's why a number of libraries, such as <a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">React</a>, if configured appropriately, can easily render views server side.</li>\n<li><strong>Performance</strong>: Server side rendering speeds up the initial page load. The server can pre render the view and send it to the client that can render it until the JavaScript gets downloaded and executed. This is what <a href=\"https://blog.twitter.com/2012/improving-performance-on-twittercom\" target=\"_blank\" rel=\"noopener noreferrer\">Twitter did</a> in one year and with 40 engineers.</li>\n</ul>\n<div style=\"background-color:#fff4db; color:#53450e; padding: 25px; border-radius:5px; text-align:center\">\n\t\t<i>Can Google crawl my website successfully?</i> <img alt=\"emoji-smile\" data-icon=\"emoji-smile\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-smile\"><br>\n\t\t<a href=\"https://www.google.com/webmasters/tools/googlebot-fetch\">Fetch as Google</a> your SPA to see the result.\n</div>\n<p>An example of this architectural pattern is the <a href=\"https://www.meteor.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Meteor</a> framework.\nYou can achieve <strong>similar</strong> results with the MERN stack.</p>\n<h2>Must an isomorphic web application necessarily be written in JavaScript?</h2>\n<p>If you read the title of this blog post you can stay calm and stop comparing the feeling of programming in JavaScript with the one of the time you went skydiving without the reserve parachute.</p>\n<p>I know that your front-end code is written in JavaScript but if your codebase is in Scala you can write your client side code in that language and make a <a href=\"https://en.wikipedia.org/wiki/Source-to-source_compiler\" target=\"_blank\" rel=\"noopener noreferrer\">transpiler</a> do the dirty work of producing the JavaScript. Or you can do a similar thing with the <a href=\"http://www.liftweb.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Lift</a> framework and its <a href=\"http://exploring.liftweb.net/master/index-10.html\" target=\"_blank\" rel=\"noopener noreferrer\">JavaScript abstractions</a>.<br>\nThis is the <a href=\"https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js\" target=\"_blank\" rel=\"noopener noreferrer\">trend</a> that is emerging. You don't need to write your JavaScript by hand anymore.</p>\n<p>JavaScript is becoming the Assembly of the web.</p>\n<h2>What is ScalaJs?</h2>\n<p>ScalaJs is a compiler that translates Scala code to JavaScript, and can run on any browser or in an execution environment such as NodeJs.\nThere are also <a href=\"https://www.scala-js.org/libraries/facades.html\" target=\"_blank\" rel=\"noopener noreferrer\">ScalaJs facades</a> to interact with existing libraries such as facebook's <a href=\"https://github.com/japgolly/scalajs-react\" target=\"_blank\" rel=\"noopener noreferrer\">React</a> in a typesafe manner. </p>\n<p>There are tons of languages that transpiles to JavaScript such as <a href=\"https://www.typescriptlang.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Typescript</a>, <a href=\"https://dart.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">Dart</a>, <a href=\"https://clojurescript.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Closurescript</a>, <a href=\"https://coffeescript.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Coffescript</a> just to name a few.\nAll of them are born to reduce the JavaScript tendency of helping you to make mistakes.</p>\n<h2>I like JavaScript, why should I care about ScalaJs?</h2>\n<ul>\n<li>\n<p>It's safer. </p>\n<p>No more <code class=\"language-text\">undefined is not a function</code> errors discovered at runtime, maybe in a production environment. </p>\n<p>You now have <strong>strong</strong> type checking and lots of errors will be discovered at compile time. Your code will be more robust and your cortisol level will be optimal.</p>\n</li>\n<li>\n<p>You have more <a href=\"https://en.wikipedia.org/wiki/Expressive_power_(computer_science)\" target=\"_blank\" rel=\"noopener noreferrer\">expressive</a>, modular and reusable code. </p>\n<p>When you start building large (10k+ LOC) and complex Single Page Applications and your codebase grows rapidly, it's better to have a more expressive language in order to express the same concept with fewer lines of code (arrow functions in ES6 make your keyboard last longer).<br>\n<a href=\"https://en.wikipedia.org/wiki/Halstead_complexity_measures\" target=\"_blank\" rel=\"noopener noreferrer\">Less code, less bugs</a></p>\n</li>\n<li>\n<p>Same language for the server and the client. </p>\n<p>It's great to know many programming languages but for a web application, maybe with offline support, it's great using only one. This way you reduce code duplication, for example form validation, currency formatting and so on, sharing the business logic code easily with the server. This way you reduce your cognitive load and the probability of making stupid mistakes such as writing <code class=\"language-text\">throw new Exception()</code> in JavaScript.  </p>\n</li>\n<li>\n<p>You also get better tooling and better IDE support. </p>\n<p>You can navigate easily your code and refactoring is safer and so easier.</p>\n</li>\n</ul>\n<div style=\"background-color:#fff4db; color:#53450e; padding: 25px; border-radius:5px; text-align:center\">\n\t\t<strong><img alt=\"emoji-pencil2\" data-icon=\"emoji-pencil2\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-pencil2\"> Quiz time: </strong>\n\t\t<br>\n\t\t<br>\n\t\t<i>What does this JavaScript snippet print?</i>\n\t\t<br>\n\t\t<br>\n\t\t[&quot;10&quot;, &quot;10&quot;, &quot;10&quot;, &quot;10&quot;].map(parseInt);\n\t\t\n</div>\n<h2>Isomorphic web app with ScalaJs</h2>\n<p>Many JavaScript frameworks have introduced the server side rendering capability such as Ember's <a href=\"https://github.com/tildeio/ember-cli-fastboot\" target=\"_blank\" rel=\"noopener noreferrer\">FastBoot</a>, backbone's <a href=\"https://github.com/rendrjs/rendr\" target=\"_blank\" rel=\"noopener noreferrer\">rendr</a>, <a href=\"https://github.com/angular/universal\" target=\"_blank\" rel=\"noopener noreferrer\">Universal</a> Angular2 etc.<br>\nFacebook's React in one of them and thanks to the ScalaJs <a href=\"https://github.com/japgolly/scalajs-react\" target=\"_blank\" rel=\"noopener noreferrer\">facade</a> you can write your views server side in Scala, compile them to JavaScript with ScalaJs and push them to the client that can take control from there once is ready.</p>\n<p>With ScalaJs you can literally be a full stack Scala engineer and also target the mobile world.\nYou can write your <a href=\"https://reactnative.dev/\" target=\"_blank\" rel=\"noopener noreferrer\">React Native</a> mobile application in Scala with <a href=\"https://github.com/scalajs-react-interface/sri#sri\" target=\"_blank\" rel=\"noopener noreferrer\">React Native</a> interface, compile your code with ScalaJs and deploy it. </p>\n<p>Awesome.</p>\n<p>You can start learning ScalaJs with the <a href=\"http://www.scala-js.org/doc/tutorial/basic/\" target=\"_blank\" rel=\"noopener noreferrer\">basic tutorial</a>.<br>\nI also suggest the <a href=\"http://www.lihaoyi.com/scalatags/\" target=\"_blank\" rel=\"noopener noreferrer\">Scalatags</a> library, to write HTML in Scala.<br>\nYou can also find projects and a Single Page Application example <a href=\"https://github.com/lihaoyi/workbench-example-app\" target=\"_blank\" rel=\"noopener noreferrer\">here</a> and <a href=\"https://github.com/ochrons/scalajs-spa-tutorial\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>Keep Learning.<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH5AUOEQA5K99KOAAABilJREFUSMeFlW1slWcZx3/383ree2hLofQwXkeZUEY3ZgKOdBI3ZyrZWEPM+ARji2b6ReWDyWKy6IctZjFGw2Kiy9REt0hGXRjuDWWIsAFGdKjQQmkpLaWMvpyXPuc8b/flh3NgjLl4JdeH58r//v//9/XcuS7F/4jj2yGrWpktBSxdYOIkDcykQtkKAAmFuCoEVc3IZEw+51CW62za92ku4/bC4I48b+6Dlpxmw5Yk2otzOoy6tRf0ScV/Sir+U9oL+uq1OLdhS5KWnObNffWzt4e69WNsVzOVimbRcpvSeNjmNPGo3WT1mfmmLjPfPE8lMjaA1CphPDs9E88Wz4TF6LWgyB9yHfa1KxdDMhmDwsvTnxYY3tlMUBNWvfJVJr9xsMdpMb/v3tGx2Vm1yTE7ulGZhWAl6uCohlSuEo+fJhg8Hvij40eDqfiHC37ee2Tw8TdwEoplv5r+WODQtiZSGja9XmTi6ebHUovcFxJd9y2z12xFZTsaKAGRhi1VPyog5XHCfx+gdubUsHfF39P+4vT+44804Rnwpf4iKmFCLQb58SLGBmpfzC12Xk7dc98S865esFMg+rZG3hICKANCj/jsQby/n7pUuhzsKnQmDqvvXCFh3vD2vTZOD/vtKzrdVzLrFvcYXVvBzd50LDec3/4Dlfr4Rn4ZfeYAlQ8vHxka8B/vXuZOqOevYXW1GvDcM2Sf/sH2wci6P5jKY344imsbJBMmubRNS97FsQ0wGoRaCELN1KxPaS6kWovwQyGezuNEE/fnm+PtPPfMT7t++W2U961m3h8LWlvvSO7/7nt68/kZi0JHB65royQmm4L2FpMVhQQrCmkAhsbmGBqrMTEVU/ZAlIUfBIyNjbNqXsQLDxhHr49WH9tYcK5byXtT5Mu6s6Ngr1m9NOIfE4Jhp1GWSxRFXJ31GbhU4vdvDZFy662qBooFC9rJ5bI4joNpmohhUqkKnd0mhcXWmqgYdibvTV232LmQxImLndl5dq6vJ8Ubp4uMjIxg2/bN3kdRhBZh60YXgFcP+5TLRarVOUQEESEIQzIJTV9PnkwuzCWSRic7Fx4z4BSmpdrEUtb6lS7dKx2CSKMMA8uyME0LLVCYb/Fkb44ne3N0zLeIY8FoYCzLQmvoXumyfqULlrJMS7XBKQyllIq0mKKFfEp44kGXQguEYUQQxjed7XrYZe1yg7XLDXY97JJJaoKbmIiOFnjiQZempKC1EGkxlVLKAqTiS1GHUSyRbz50j2Je1uDPZ0Kul6E5p9jwOYPNd1tYqQCA3Y9arFqm+dvZkOkStGZhS5fBhjsVEvnoIIorvhQBsUS+wr6+YyOrq7GXkDhrJxWb1pl0rzUoB0JLs4FlK0QJEAOQdaC3x+ahLwhTU5q8q3ANBVojnhBWY290Jh4R6cXw9pzkyFAwUC7GFyXQYIKyAUdx4C81jp72mUNQSfWJLInwpw9qvHvCx3QVmIAhSKApl+KLR4aCAW/PB1iFvdPM1GT8a59PHpq/NF7nNJtKLEXKgZ4HMrz62zLv/7XGnXc55FsNRGB6Mub8uRA7bbNjRwbbFSQEIiGcjWV4PDq095+18d8N+Ji1qP4SM0pV1rdbGzMt5nyVNcE1aGlVrNmQIhKb0Qsxo4MxVy9rIm1x98YMj/SlWZAXBEAr9HTM5EBw9hfveT86OREN16LGLErbirlQ0i9ty+7etiX9bNPaxDzVZoKrUCaIbeAFBjWvPkSTSUhaMSrUSKQgEOSjmOK/ajP9h+ee3d1ffiltq7m5UDABQg1A+O5gcLkrZ1JIG11uwkgqW9UHmQiO0qQcTcrW2GgIgVBBVZBrEcVzwcw7x6ovfn1/6deRMN3grAvciEiY++N//AuLDDW7UKklSaTZUPXpjwCi6g8plDrxTEx4OZSJM/75/iPez77ZX/pNVXOlgf6kgNHYH6FQPjgQXPhoMjqb8cVzPUmbFZ2kIpaUtNIzMdFkrKuXQm/yXDB84mT19Z+8Vdn7/FHvYChMAFrdsj8+a5UoIAm0f3m5vXLzCnf1ijZzSS5lNAGUPF0cuhZfOjrkn3v7YngBmACqtzr/fwI3LwYkgHQjnUY9AOYaWQP0ZxH8F7qF/UHfNbDkAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA0LTA2VDIwOjIwOjQzKzAwOjAwYksQAgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wNC0wNlQyMDoyMDo0MyswMDowMBMWqL4AAAAASUVORK5CYII=\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/isomorphic-web-applications-with-scala-and-scalajs/"},"frontmatter":{"title":"Isomorphic Web Applications with Scala and ScalaJs","description":"Learn how to integrate ScalaJs in a Scala project","date":"Mar 20, 2016","tags":["scala","scalajs","isomorphic web application"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAIA/9oADAMBAAIQAxAAAAFJS0sEI//EABsQAAICAwEAAAAAAAAAAAAAAAACARIDBBMi/9oACAEBAAEFAnweZ1oU4IWYsxaT/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAESUf/aAAgBAwEBPwGSXp//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAGxAAAwACAwAAAAAAAAAAAAAAAAEhMTJhcZL/2gAIAQEABj8Cl7K7wjZ+TLNmZZ//xAAZEAEAAwEBAAAAAAAAAAAAAAABACHhUTH/2gAIAQEAAT8hVNLeRQH3YEeLBtR2Y60//9oADAMBAAIAAwAAABCDL//EABkRAQACAwAAAAAAAAAAAAAAAAEAIaHh8P/aAAgBAwEBPxBSU4nQ3P/EABYRAQEBAAAAAAAAAAAAAAAAAAEAcf/aAAgBAgEBPxAZYv/EAB0QAQACAQUBAAAAAAAAAAAAAAEAESExQWGx4cH/2gAIAQEAAT8QAG2St9Q8QWiocO7xGJmVkMO57PPWZb++f//Z","aspectRatio":1.7857142857142858,"src":"/static/2fffb48de9c1025a640980babecb3de3/4fe8c/cover.jpg","srcSet":"/static/2fffb48de9c1025a640980babecb3de3/f836f/cover.jpg 200w,\n/static/2fffb48de9c1025a640980babecb3de3/2244e/cover.jpg 400w,\n/static/2fffb48de9c1025a640980babecb3de3/4fe8c/cover.jpg 600w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"d84b7d02-d018-5704-a008-d8a6d7eb3240","html":"<article class=\"prose lg:prose-lg xl:prose-xl\">\n<p>I was digging around the source code of our project when I noticed spread in many <a href=\"http://exploring.liftweb.net/master/index-5.html\" target=\"_blank\" rel=\"noopener noreferrer\">snippets</a>, code that perform the same action (such as send a push notification to a user) after a particular object gets persisted in the database (for example when a new chat message is sent) or when a change of state happens (a payment for a particular order has been made).</p>\n<p>The tecnhique I'm about to discuss can be applied to many frameworks: <strong>Java</strong> and <a href=\" https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/listeners.html\" target=\"_blank\" rel=\"noopener noreferrer\">Hibernate</a>, <strong>Ruby</strong> with <a href=\"http://guides.rubyonrails.org/active_record_callbacks.html\" target=\"_blank\" rel=\"noopener noreferrer\">Active Record</a>, <strong>Meteor</strong> and its <a href=\"https://www.discovermeteor.com/blog/a-look-at-meteor-collection-hooks/\" target=\"_blank\" rel=\"noopener noreferrer\">Collection hooks</a>, and for all the homo erectus who are reading, also with some PHP frameworks, just to name a few.</p>\n<h2>Simplifying and DRYing out the code</h2>\n<p>The framework-agnostic recipe is the following:</p>\n<ul>\n<li><strong>Identify</strong> repeated code that perform some action after a change of state persisted on the database</li>\n<li><strong>Cut</strong> the previously identified code </li>\n<li><strong>Paste</strong> it in the model and override the lifecycle callback that make sense the most, as explained below</li>\n</ul>\n<p> In <a href=\"http://www.liftweb.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Lift</a> we accomplish this with the LifecycleCallbacks <a href=\"http://docs.scala-lang.org/tutorials/tour/traits.html\" target=\"_blank\" rel=\"noopener noreferrer\">trait</a> that we can mix in the fields of our <a href=\"https://www.assembla.com/wiki/show/liftweb/Record\" target=\"_blank\" rel=\"noopener noreferrer\">record</a>, <a href=\"https://www.assembla.com/wiki/show/liftweb/Mongo_Record_Basics\" target=\"_blank\" rel=\"noopener noreferrer\">MongoRecord</a> in our case.\nThis trait make us available the following methods</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"> \n <span class=\"token keyword\">def</span> beforeValidation <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">def</span> afterValidation <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n \n <span class=\"token keyword\">def</span> beforeSave <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">def</span> beforeCreate <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">def</span> beforeUpdate <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">def</span> afterSave <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">def</span> afterCreate <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">def</span> afterUpdate <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n </code></pre></div>\n<p>that we can override in order to perform actions at various points during the lifecycle of a given instance. Their names are self explanatory but a thing to remember is that <code class=\"language-text\">beforeSave</code> is always called before <code class=\"language-text\">beforeCreate</code> or <code class=\"language-text\">beforeUpdate</code>.<br>\n<code class=\"language-text\">afterSave</code>, similarly, is called after <code class=\"language-text\">afterCreate</code> or <code class=\"language-text\">afterUpdate</code>.  </p>\n<p>With this tool in our toolbelt we can centralize the code that was spread all over the codebase, in our model, making our software more mantainable, <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>DRY</strong></a>, and clean.</p>\n<p>Here is an example</p>\n<div class=\"gatsby-highlight\" data-language=\"scala\"><pre class=\"language-scala\"><code class=\"language-scala\"> <span class=\"token keyword\">class</span> ChatMsg <span class=\"token keyword\">extends</span> MongoRecord<span class=\"token punctuation\">[</span>ChatMsg<span class=\"token punctuation\">]</span> \n   <span class=\"token keyword\">with</span> ObjectIdPk<span class=\"token punctuation\">[</span>ChatMsg<span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">def</span> meta <span class=\"token operator\">=</span> ChatMsg\n     <span class=\"token keyword\">object</span> text <span class=\"token keyword\">extends</span> StringField<span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> \n       <span class=\"token keyword\">with</span> LifecycleCallbacks<span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">override</span> <span class=\"token keyword\">def</span> afterSave<span class=\"token operator\">:</span> <span class=\"token builtin\">Unit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n             <span class=\"token comment\">//send push notification or whatever</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Go and try it out!  </p>\n<p>Keep Learning.<br>\nUntil next time <img alt=\"emoji-sunglasses\" data-icon=\"emoji-sunglasses\" style=\"display: inline; margin: 0; margin-top: 1px; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-sunglasses\"></p>\n</article>","fields":{"slug":"/blog/scala-simplify-code-with-lifecycle-callbacks-model/"},"frontmatter":{"title":"Scala & Lift and the record lifecycle callbacks","description":"Learn how to hook the model lifecycle with custom code","date":"Feb 29, 2016","tags":["scala","design pattern","lift framework"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAByJHcKAE//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECAzH/2gAIAQEAAQUCzkaQzIsff//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAAAEAETFB/9oACAEBAAE/IdFvVA27ZJyTP//aAAwDAQACAAMAAAAQiy//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxCn/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QZ//EABoQAQEBAQADAAAAAAAAAAAAAAERACExcaH/2gAIAQEAAT8QvHwGPevZ3BcWb5NcqZirv//Z","aspectRatio":1.7857142857142858,"src":"/static/3d1a16c1f07d613101c6ce0ba375b24d/14b42/cover.jpg","srcSet":"/static/3d1a16c1f07d613101c6ce0ba375b24d/f836f/cover.jpg 200w,\n/static/3d1a16c1f07d613101c6ce0ba375b24d/2244e/cover.jpg 400w,\n/static/3d1a16c1f07d613101c6ce0ba375b24d/14b42/cover.jpg 800w,\n/static/3d1a16c1f07d613101c6ce0ba375b24d/8dcf7/cover.jpg 910w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}}]}}}