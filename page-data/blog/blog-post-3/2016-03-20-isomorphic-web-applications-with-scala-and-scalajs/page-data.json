{"componentChunkName":"component---src-templates-blog-post-index-tsx","path":"/blog/blog-post-3/2016-03-20-isomorphic-web-applications-with-scala-and-scalajs/","result":{"data":{"markdownRemark":{"html":"<h2>What is an isomorphic web application?</h2>\n<p>An isomorphism is a mathematical term used to indicate that two things, from an high level perspective, are essentialy the same.<br>\nIn the context of web applications it means that we have code shared between the front-end and the back-end.<br>\nIt also means that we can execute the client side code on the server.<br>\nWith no doubt a more clear and less scary term is <strong>Universal web application</strong>.    </p>\n<!--more-->\n<p>With the traditional approach of an application built with an MVC framework (one that doesn't support server side rendering of your front-end components) and an API backend, the client has to wait for the JavaScript to download and execute until he can finally see something. And we know from <a href=\"http://blog.gigaspaces.com/amazon-found-every-100ms-of-latency-cost-them-1-in-sales/\">studies</a>{:target=\"_blank\"} that a reduction of 100ms of page load can make a big difference.</p>\n<h2>Why is server side rendering useful?</h2>\n<p>It's useful for a number of reasons:</p>\n<ul>\n<li><strong>SEO</strong>: Having your MVC framework generate the views client side make difficult, if not impossibile, for crawlers to index your application. That's why a number of libraries, such as <a href=\"http://facebook.github.io/react/\">React</a>{:target=\"_blank\"}, can easily render views server side.</li>\n<li><strong>Performance</strong>: Server side rendering speeds up the initial page load. The server can pre render the view and send it to the client that can render it until the JavaScript gets downloaded and executed. This is what <a href=\"https://blog.twitter.com/2012/improving-performance-on-twittercom\">Twitter did</a>{:target=\"_blank\"} in one year and with 40 engineers.</li>\n</ul>\n<div class=\"tooltip-box\">\n\t<div class=\"tooltip-content\">\n\t\t<i>Can Google crawl my website successfully?</i><br/>\n\t\t<a href=\"https://www.google.com/webmasters/tools/googlebot-fetch\">Fetch as Google</a> your SPA to see the result.\n\t</div>\n</div>\n<p>An example of this architectural pattern is the <a href=\"https://www.meteor.com/\">Meteor</a>{:target=\"<em>blank\"} framework.\nYou can achieve <strong>similar</strong> results with the <a href=\"http://mern.io/\">MERN</a>{:target=\"</em>blank\"} stack.</p>\n<h2>Must an isomorphic web application necessarily be written in JavaScript?</h2>\n<p>If you read the title of this blog post you can stay calm and stop comparing the feeling of programming in JavaScript with the one of the time you went skydiving without the reserve parachute.</p>\n<p>I know that your front-end code is written in JavaScript but if your codebase is in Scala you can write your client side code in that language and make a <a href=\"https://en.wikipedia.org/wiki/Source-to-source_compiler\">transpiler</a>{:target=\"<em>blank\"} do the dirty work of producing the JavaScript. Or you can do a similar thing with the <a href=\"http://www.liftweb.net/\">Lift</a>{:target=\"</em>blank\"} framework and its <a href=\"http://exploring.liftweb.net/master/index-10.html\">JavaScript abstractions</a>{:target=\"<em>blank\"}.<br>\nThis is the <a href=\"https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js\">trend</a>{:target=\"</em>blank\"} that is emerging. You don't need to write your JavaScript by hand anymore.</p>\n<p>JavaScript is becoming the Assembly of the web.</p>\n<h2>What is ScalaJs?</h2>\n<p>ScalaJs is a compiler that translates Scala code to JavaScript, and can run on any browser or in an execution environment such as NodeJs.\nThere are also <a href=\"https://www.scala-js.org/libraries/facades.html\">ScalaJs facades</a>{:target=\"<em>blank\"} to interact with existing libraries such as facebook's <a href=\"https://github.com/japgolly/scalajs-react\">React</a>{:target=\"</em>blank\"} in a typesafe manner. </p>\n<p>There are tons of languages that transpiles to JavaScript such as <a href=\"http://www.typescriptlang.org/\">TypeScript</a>{:target=\"<em>blank\"}, <a href=\"https://www.dartlang.org/\">Dart</a>{:target=\"</em>blank\"}, <a href=\"https://github.com/clojure/clojurescript\">ClosureScript</a>{:target=\"<em>blank\"}, <a href=\"http://coffeescript.org/\">CoffeeScript</a>{:target=\"</em>blank\"} just to name a few.\nAll of them are born to reduce the JavaScript tendency of helping you to make mistakes.</p>\n<img class=\"img-center\" src=\"{{site.url}}/assets/good-parts-js.jpg\" alt=\"javascript good parts book\">\n<h2>I like JavaScript, why should I care about ScalaJs?</h2>\n<ul>\n<li>\n<p>It's safer. </p>\n<p>No more <code>undefined is not a function</code> errors discovered at runtime, maybe in a production environment. </p>\n<p>You now have <strong>strong</strong> type checking and lots of errors will be discovered at compile time. Your code will be more robust and your cortisol level will be optimal.</p>\n</li>\n<li>\n<p>You have more <a href=\"https://en.wikipedia.org/wiki/Expressive_power_(computer_science)\">expressive</a>{:target=\"_blank\"}, modular and reusable code. </p>\n<p>When you start building large (10k+ LOC) and complex Single Page Applications and your codebase grows rapidly, it's better to have a more expressive language in order to express the same concept with fewer lines of code (arrow functions in ES6 make your keyboard last longer).<br>\n<a href=\"https://en.wikipedia.org/wiki/Halstead_complexity_measures\">Less code less bugs</a>{:target=\"_blank\"}</p>\n</li>\n</ul>\n<ul>\n<li>\n<p>Same language for the server and the client. </p>\n<p>It's great to know many programming languages but for a web application, maybe with offline support, it's great using only one. This way you reduce code duplication, for example form validation, currency formatting and so on, sharing the business logic code easily with the server. This way you reduce your cognitive load and the probability of making stupid mistakes such as writing <code>throw new Exception()</code> in JavaScript.  </p>\n</li>\n<li>\n<p>You also get better tooling and better IDE support. </p>\n<p>You can navigate easily your code and refactoring is safer and so easier.</p>\n</li>\n</ul>\n<div class=\"tooltip-box\">\n\t<div class=\"tooltip-content\">\n\t\t<strong>Quiz time</strong>: What does this JavaScript snippet print?\n\t\t<br/>\n\t\t<code>[\"10\", \"10\", \"10\", \"10\"].map(parseInt);</code>\n\t</div>\n</div>\n<h2>Isomorphic web app with ScalaJs</h2>\n<p>Many JavaScript frameworks have introduced the server side rendering capability such as Ember's <a href=\"https://github.com/tildeio/ember-cli-fastboot\">fastboot</a>{:target=\"<em>blank\"}, backbone's <a href=\"https://github.com/rendrjs/rendr\">rendr</a>{:target=\"</em>blank\"}, <a href=\"https://github.com/angular/universal\">Universal</a>{:target=\"<em>blank\"} Angular2 etc.<br>\nFacebook's <a href=\"http://facebook.github.io/react/\">React</a>{:target=\"</em>blank\"} in one of them and thanks to the ScalaJs <a href=\"https://github.com/japgolly/scalajs-react\">facade</a>{:target=\"_blank\"} you can write your views server side in Scala, compile them to JavaScript with ScalaJs and push them to the client that can take control from there once is ready.</p>\n<p>With ScalaJs you can literally be a full stack Scala engineer and also target the mobile world.\nYou can write your <a href=\"https://facebook.github.io/react-native/\">React Native</a>{:target=\"<em>blank\"} mobile application in Scala with <a href=\"https://github.com/chandu0101/sri\">React native</a>{:target=\"</em>blank\"} interface, compile your code with ScalaJs and deploy it. </p>\n<p>Awesome.</p>\n<p>You can start learning ScalaJs with the <a href=\"https://www.scala-js.org/tutorial/basic/\">basic tutorial</a>{:target=\"<em>blank\"}.<br>\nI also suggest the <a href=\"http://www.lihaoyi.com/scalatags/\">scalatags</a>{:target=\"</em>blank\"} library, to write HTML in Scala.<br>\nYou can also find projects and a Single Page Application example <a href=\"https://github.com/lihaoyi/workbench-example-app\">here</a> and <a href=\"https://github.com/ochrons/scalajs-spa-tutorial\">here</a>.</p>\n<p>Keep Learning.<br>\nUntil next time</p>","frontmatter":{"title":"Isomorphic Web Applications with Scala and ScalaJs","date":"Mar 20, 2016"}}},"pageContext":{"slug":"/blog/blog-post-3/2016-03-20-isomorphic-web-applications-with-scala-and-scalajs/","previous":{"fields":{"slug":"/blog/blog-post-3/"},"frontmatter":{"title":"Isomorphic Web Applications with Scala and ScalaJs"}},"next":{"fields":{"slug":"/blog/blog-post-4/"},"frontmatter":{"title":"Blog Post 4"}}}}}